# Noble ëŒ€ì‹œë³´ë“œ â€” PRD v2.0 (í”„ë¡ íŠ¸ì—”ë“œ ìƒì„¸ ì„¤ê³„)

> **Document Status:** Final Draft
> **Last Updated:** 2025-02-13
> **Depends On:** Noble PRD v2.0 (noble-prd-v2.md)
> **Phase:** Phase 0 MVP

---

## 1. ì„¤ê³„ ì›ì¹™

| # | ì›ì¹™ | ì´ìœ  |
|---|------|------|
| 1 | **í™”ë©´ 5ê°œ ì´í•˜** | 1ì¸ ê°œë°œ 5ì¼ ë‚´ êµ¬í˜„ ê°€ëŠ¥ ë²”ìœ„ |
| 2 | **ë°°í¬ëŠ” í•­ìƒ 1í´ë¦­** | FAB ë²„íŠ¼ì´ ëª¨ë“  í™”ë©´ì— ìƒì£¼ |
| 3 | **Phase 0ëŠ” ê¸°ëŠ¥ë§Œ** | ë””ìì¸ ë‹¤ë“¬ê¸°ëŠ” Phase 1 |
| 4 | **ë…¸ì…˜ì´ ì—ë””í„°** | ëŒ€ì‹œë³´ë“œëŠ” ê´€ë¦¬/ëª¨ë‹ˆí„°ë§ ì „ìš©, ê¸€ í¸ì§‘ ì—†ìŒ |
| 5 | **ì—ëŸ¬ëŠ” êµ¬ì²´ì ìœ¼ë¡œ** | "ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" ê¸ˆì§€. í•­ìƒ ì›ì¸ + í•´ê²°ì±… |

---

## 2. í”„ë¡œì íŠ¸ êµ¬ì¡° (Next.js App Router)

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/                    â† ì¸ì¦ ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°” ì—†ìŒ)
â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â”œâ”€â”€ signup/page.tsx
â”‚   â”‚   â””â”€â”€ layout.tsx             â† ì„¼í„° ì •ë ¬, Noble ë¡œê³ ë§Œ
â”‚   â”‚
â”‚   â”œâ”€â”€ (dashboard)/               â† ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°” ìˆìŒ)
â”‚   â”‚   â”œâ”€â”€ dashboard/page.tsx
â”‚   â”‚   â”œâ”€â”€ posts/page.tsx
â”‚   â”‚   â”œâ”€â”€ settings/page.tsx
â”‚   â”‚   â”œâ”€â”€ onboarding/page.tsx
â”‚   â”‚   â””â”€â”€ layout.tsx             â† ì‚¬ì´ë“œë°” + ì•Œë¦¼ ë°°ë„ˆ + FAB
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                       â† API Routes (PRD v2.0 ì„¹ì…˜ 4 ì°¸ê³ )
â”‚   â”‚   â”œâ”€â”€ auth/callback/notion/route.ts
â”‚   â”‚   â”œâ”€â”€ site/route.ts
â”‚   â”‚   â”œâ”€â”€ notion/route.ts
â”‚   â”‚   â”œâ”€â”€ build/route.ts
â”‚   â”‚   â”œâ”€â”€ posts/route.ts
â”‚   â”‚   â””â”€â”€ paddle/route.ts
â”‚   â”‚
â”‚   â””â”€â”€ layout.tsx                 â† ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (fonts, metadata)
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ AlertBanner.tsx
â”‚   â”‚   â”œâ”€â”€ DeployFAB.tsx
â”‚   â”‚   â””â”€â”€ MobileNav.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ onboarding/
â”‚   â”‚   â”œâ”€â”€ StepProgress.tsx
â”‚   â”‚   â”œâ”€â”€ StepNotionConnect.tsx
â”‚   â”‚   â”œâ”€â”€ StepDatabaseSelect.tsx
â”‚   â”‚   â”œâ”€â”€ StepPropertyCheck.tsx
â”‚   â”‚   â””â”€â”€ StepUrlSetup.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ BlogSummaryCard.tsx
â”‚   â”‚   â”œâ”€â”€ SeoStatusCard.tsx
â”‚   â”‚   â””â”€â”€ PlanCard.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ posts/
â”‚   â”‚   â”œâ”€â”€ PostTable.tsx
â”‚   â”‚   â”œâ”€â”€ PostRow.tsx
â”‚   â”‚   â”œâ”€â”€ SeoIndicator.tsx
â”‚   â”‚   â””â”€â”€ FilterTabs.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”œâ”€â”€ SettingsTabs.tsx
â”‚   â”‚   â”œâ”€â”€ GeneralTab.tsx
â”‚   â”‚   â”œâ”€â”€ SeoTab.tsx
â”‚   â”‚   â”œâ”€â”€ ThemeTab.tsx
â”‚   â”‚   â””â”€â”€ BillingTab.tsx
â”‚   â”‚
â”‚   â””â”€â”€ ui/                        â† ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Input.tsx
â”‚       â”œâ”€â”€ Toast.tsx
â”‚       â”œâ”€â”€ Modal.tsx
â”‚       â”œâ”€â”€ Badge.tsx
â”‚       â”œâ”€â”€ Spinner.tsx
â”‚       â”œâ”€â”€ CopyButton.tsx
â”‚       â””â”€â”€ Tooltip.tsx
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useUser.ts                 â† Supabase Auth ìƒíƒœ
â”‚   â”œâ”€â”€ useSite.ts                 â† ì‚¬ì´íŠ¸ ë°ì´í„° (SWR)
â”‚   â”œâ”€â”€ usePosts.ts                â† í¬ìŠ¤íŠ¸ ëª©ë¡ (SWR)
â”‚   â”œâ”€â”€ useBuild.ts                â† ë¹Œë“œ ìƒíƒœ + í´ë§
â”‚   â”œâ”€â”€ useDeployLimit.ts          â† ë°°í¬ íšŸìˆ˜ ì œí•œ ìƒíƒœ
â”‚   â””â”€â”€ useToast.ts                â† í† ìŠ¤íŠ¸ ì•Œë¦¼ ê´€ë¦¬
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts              â† ë¸Œë¼ìš°ì €ìš© í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ server.ts              â† ì„œë²„ìš© í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ paddle.ts                  â† Paddle.js ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ encryption.ts              â† AES-256-GCM (ì„œë²„ ì „ìš©)
â”‚   â””â”€â”€ utils.ts                   â† ìƒëŒ€ ì‹œê°„, slug ê²€ì¦ ë“±
â”‚
â””â”€â”€ types/
    â”œâ”€â”€ database.ts                â† Supabase ìƒì„± íƒ€ì…
    â””â”€â”€ api.ts                     â† API request/response íƒ€ì…
```

### 2.1 í•µì‹¬ ì˜ì¡´ì„±

```json
{
  "dependencies": {
    "next": "^14.2",
    "@supabase/supabase-js": "^2.39",
    "@supabase/ssr": "^0.1",
    "swr": "^2.2",
    "lucide-react": "^0.312",
    "@paddle/paddle-js": "^1.0",
    "clsx": "^2.1",
    "tailwind-merge": "^2.2"
  },
  "devDependencies": {
    "tailwindcss": "^3.4",
    "typescript": "^5.3",
    "@types/react": "^18"
  }
}
```

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ | ì„ íƒ ì´ìœ  |
|-----------|------|----------|
| **SWR** | ì„œë²„ ë°ì´í„° ìºì‹œ/í˜ì¹­ | ìë™ ì¬ê²€ì¦, ê²½ëŸ‰ (React Query ëŒ€ë¹„ ë²ˆë“¤ ì‘ìŒ) |
| **Lucide React** | ì•„ì´ì½˜ | íŠ¸ë¦¬ ì…°ì´í‚¹ ì§€ì›, shadcn/ui í˜¸í™˜ |
| **Tailwind CSS** | ìŠ¤íƒ€ì¼ë§ | ìœ í‹¸ë¦¬í‹° ìš°ì„ , ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ |
| **clsx + tailwind-merge** | ì¡°ê±´ë¶€ í´ë˜ìŠ¤ | Tailwind í´ë˜ìŠ¤ ì¶©ëŒ í•´ê²° |

---

## 3. ë¼ìš°íŒ… & ì¸ì¦ ê°€ë“œ

### 3.1 ë¼ìš°íŒ… í…Œì´ë¸”

| ê²½ë¡œ | í˜ì´ì§€ | ì¸ì¦ í•„ìš” | ì˜¨ë³´ë”© í•„ìš” | ë ˆì´ì•„ì›ƒ |
|------|-------|----------|-----------|---------|
| `/login` | ë¡œê·¸ì¸ | âŒ | âŒ | AuthLayout (ì„¼í„°) |
| `/signup` | íšŒì›ê°€ì… | âŒ | âŒ | AuthLayout (ì„¼í„°) |
| `/onboarding` | ì˜¨ë³´ë”© ìœ„ì €ë“œ | âœ… | âŒ (ì§„í–‰ ì¤‘) | DashboardLayout (ì‚¬ì´ë“œë°” ìˆ¨ê¹€) |
| `/dashboard` | ë©”ì¸ ëŒ€ì‹œë³´ë“œ | âœ… | âœ… | DashboardLayout |
| `/posts` | í¬ìŠ¤íŠ¸ ê´€ë¦¬ | âœ… | âœ… | DashboardLayout |
| `/settings` | ì„¤ì • | âœ… | âœ… | DashboardLayout |
| `/settings?tab=billing` | ê²°ì œ ì„¤ì • | âœ… | âœ… | DashboardLayout |

### 3.2 ë¯¸ë“¤ì›¨ì–´ ë¼ìš°íŒ… ë¡œì§

```typescript
// middleware.ts
export async function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;
  const session = await getSession(request);

  // 1. ë¹„ì¸ì¦ ì‚¬ìš©ì â†’ ë³´í˜¸ëœ ê²½ë¡œ ì ‘ê·¼ ì‹œ ë¡œê·¸ì¸ìœ¼ë¡œ
  if (!session && isProtectedRoute(pathname)) {
    return redirect('/login');
  }

  // 2. ì¸ì¦ëœ ì‚¬ìš©ì â†’ ë¡œê·¸ì¸/íšŒì›ê°€ì… ì ‘ê·¼ ì‹œ ëŒ€ì‹œë³´ë“œë¡œ
  if (session && isAuthRoute(pathname)) {
    return redirect('/dashboard');
  }

  // 3. ì˜¨ë³´ë”© ë¯¸ì™„ë£Œ â†’ ëŒ€ì‹œë³´ë“œ/í¬ìŠ¤íŠ¸/ì„¤ì • ì ‘ê·¼ ì‹œ ì˜¨ë³´ë”©ìœ¼ë¡œ
  if (session && !session.user.onboarding_completed && isDashboardRoute(pathname)) {
    return redirect('/onboarding');
  }

  // 4. ì˜¨ë³´ë”© ì™„ë£Œ â†’ /onboarding ì ‘ê·¼ ì‹œ ëŒ€ì‹œë³´ë“œë¡œ
  if (session && session.user.onboarding_completed && pathname === '/onboarding') {
    return redirect('/dashboard');
  }

  return NextResponse.next();
}
```

### 3.3 ì²´í—˜ ë§Œë£Œ ì ‘ê·¼ ì œì–´

```
ì²´í—˜ ë§Œë£Œ ì‹œ:
  - /dashboard: ì ‘ê·¼ í—ˆìš© (ì—…ê·¸ë ˆì´ë“œ ìœ ë„ ì¹´ë“œ í‘œì‹œ)
  - /posts: ì ‘ê·¼ í—ˆìš© (ì½ê¸° ì „ìš©, ë°°í¬ ë²„íŠ¼ ë¹„í™œì„±)
  - /settings: ì ‘ê·¼ í—ˆìš© (ê²°ì œ íƒ­ìœ¼ë¡œ ìœ ë„)
  - ë°°í¬ API: 402 TRIAL_EXPIRED ë°˜í™˜
  - ë¸”ë¡œê·¸: ì„œë¹™ ì¤‘ì§€ (Cloudflareì—ì„œ "êµ¬ë…ì´ í•„ìš”í•©ë‹ˆë‹¤" í˜ì´ì§€ë¡œ ëŒ€ì²´)
```

---

## 4. í™”ë©´ 1: ë¡œê·¸ì¸/íšŒì›ê°€ì… (`/login`, `/signup`)

### 4.1 ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                  â”‚
â”‚                   Noble ë¡œê³                       â”‚
â”‚                                                  â”‚
â”‚            "ë…¸ì…˜ìœ¼ë¡œ ê¸€ë§Œ ì“°ë©´,                     â”‚
â”‚             êµ¬ê¸€ì— ì˜ ì¡íˆëŠ” ë¸”ë¡œê·¸"                  â”‚
â”‚                                                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â”‚  ğŸ“§ ì´ë©”ì¼ë¡œ ì‹œì‘í•˜ê¸°      â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                  â”‚
â”‚         [ì´ë©”ì¼ ì…ë ¥ í¼ - ì¡°ê±´ë¶€ í‘œì‹œ]               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â”‚  email@example.com       â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         [ ë§¤ì§ ë§í¬ ì „ì†¡ ]                         â”‚
â”‚                                                  â”‚
â”‚         â”€â”€ ë˜ëŠ” â”€â”€                                â”‚
â”‚                                                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â”‚  ğŸ”— Googleë¡œ ì‹œì‘í•˜ê¸°      â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                  â”‚
â”‚          14ì¼ ë¬´ë£Œ ì²´í—˜ Â· ì¹´ë“œ ë“±ë¡ ë¶ˆí•„ìš”           â”‚
â”‚                                                  â”‚
â”‚        ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸                â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ì»´í¬ë„ŒíŠ¸ ìƒì„¸

| ìš”ì†Œ | ì»´í¬ë„ŒíŠ¸ | ìŠ¤í™ |
|------|---------|------|
| **ë¡œê³ ** | `<img>` | Noble ë¡œê³ , ë†’ì´ 40px, ì¤‘ì•™ ì •ë ¬ |
| **íƒœê·¸ë¼ì¸** | `<h1>` | "ë…¸ì…˜ìœ¼ë¡œ ê¸€ë§Œ ì“°ë©´, êµ¬ê¸€ì— ì˜ ì¡íˆëŠ” ë¸”ë¡œê·¸" |
| **ì´ë©”ì¼ ë²„íŠ¼** | `<Button>` | í´ë¦­ â†’ ì´ë©”ì¼ ì…ë ¥ í¼ í† ê¸€ í‘œì‹œ |
| **ì´ë©”ì¼ ì…ë ¥** | `<Input type="email">` | placeholder: "email@example.com" |
| **ë§¤ì§ ë§í¬ ì „ì†¡** | `<Button variant="primary">` | í´ë¦­ â†’ Supabase `signInWithOtp()` |
| **Google ë²„íŠ¼** | `<Button variant="outline">` | í´ë¦­ â†’ Supabase `signInWithOAuth({ provider: 'google' })` |
| **ì‹ ë¢° ë¬¸êµ¬** | `<p>` | "14ì¼ ë¬´ë£Œ ì²´í—˜ Â· ì¹´ë“œ ë“±ë¡ ë¶ˆí•„ìš”" |
| **ì „í™˜ ë§í¬** | `<Link>` | íšŒì›ê°€ì… â†” ë¡œê·¸ì¸ í† ê¸€ |
| **AuthLayout** | ë˜í¼ | í™”ë©´ ì¤‘ì•™ ì •ë ¬, ìµœëŒ€ ë„ˆë¹„ 400px, ì‚¬ì´ë“œë°”/FAB ì—†ìŒ |

### 4.3 ìƒíƒœ ë¨¸ì‹ 

```
[idle]
  â”œâ”€â”€ ì´ë©”ì¼ ë²„íŠ¼ í´ë¦­ â†’ [email_form_visible]
  â”‚     â”œâ”€â”€ ì´ë©”ì¼ ì…ë ¥ + ì „ì†¡ í´ë¦­ â†’ [sending_magic_link]
  â”‚     â”‚     â”œâ”€â”€ ì„±ê³µ â†’ [magic_link_sent] "ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”" í‘œì‹œ
  â”‚     â”‚     â””â”€â”€ ì‹¤íŒ¨ â†’ [email_error] ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
  â”‚     â””â”€â”€ ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜ â†’ [email_validation_error]
  â”‚
  â””â”€â”€ Google ë²„íŠ¼ í´ë¦­ â†’ [google_redirect] OAuth ë¦¬ë‹¤ì´ë ‰íŠ¸
```

### 4.4 ì—ëŸ¬ ì²˜ë¦¬

| ì—ëŸ¬ | ë°œìƒ ì¡°ê±´ | ì‚¬ìš©ì ë©”ì‹œì§€ |
|------|----------|-------------|
| ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜ | `@` ì—†ìŒ, ë„ë©”ì¸ ì—†ìŒ | "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| Magic Link ì „ì†¡ ì‹¤íŒ¨ | Supabase API ì—ëŸ¬ | "ì´ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”" |
| Magic Link rate limit | 60ì´ˆ ë‚´ ì¬ì „ì†¡ | "ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš” (Nì´ˆ)" |
| Google OAuth ì‹¤íŒ¨ | íŒì—… ì°¨ë‹¨, ë„¤íŠ¸ì›Œí¬ | "Google ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”" |

### 4.5 Magic Link ì „ì†¡ í›„ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                  â”‚
â”‚                   âœ‰ï¸                              â”‚
â”‚                                                  â”‚
â”‚          ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”                      â”‚
â”‚                                                  â”‚
â”‚    user@example.comìœ¼ë¡œ                           â”‚
â”‚    ë¡œê·¸ì¸ ë§í¬ë¥¼ ë³´ë‚´ë“œë ¸ìŠµë‹ˆë‹¤.                     â”‚
â”‚                                                  â”‚
â”‚    ì´ë©”ì¼ì´ ì˜¤ì§€ ì•Šë‚˜ìš”?                            â”‚
â”‚    [ë‹¤ì‹œ ë³´ë‚´ê¸°] (60ì´ˆ ì¿¨ë‹¤ìš´)                      â”‚
â”‚                                                  â”‚
â”‚    [â† ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ë¡œê·¸ì¸]                         â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 íšŒì›ê°€ì… ì‹œ ì„œë²„ ë¡œì§

```
1. Supabase Auth ê³„ì • ìƒì„± (ì´ë©”ì¼ ë˜ëŠ” Google)
2. auth.usersì— ìë™ ìƒì„±
3. DB trigger ë˜ëŠ” APIì—ì„œ:
   INSERT INTO public.users (id, email, plan, trial_ends_at)
   VALUES (auth.uid(), email, 'trial', NOW() + INTERVAL '14 days')
4. onboarding_completed = FALSE â†’ ë¡œê·¸ì¸ ì‹œ /onboardingìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

---

## 5. í™”ë©´ 2: ì˜¨ë³´ë”© ìœ„ì €ë“œ (`/onboarding`)

### 5.1 ì „ì²´ êµ¬ì¡°

```
ë ˆì´ì•„ì›ƒ: DashboardLayout ì‚¬ìš©í•˜ë˜ ì‚¬ì´ë“œë°” ìˆ¨ê¹€ (ì˜¨ë³´ë”© ì „ìš© ëª¨ë“œ)
FAB: ìˆ¨ê¹€ (ì•„ì§ ì‚¬ì´íŠ¸ ì—†ìŒ)
ì•Œë¦¼ ë°°ë„ˆ: ìˆ¨ê¹€
ì§„í–‰ ìƒíƒœ: URL query parameter (?step=1,2,3,4)
ë°ì´í„° ì €ì¥: ê° ë‹¨ê³„ ì™„ë£Œ ì‹œ ì„œë²„ì— ì¦‰ì‹œ ì €ì¥ (ì¤‘ê°„ ì´íƒˆ ì‹œ ë³µì› ê°€ëŠ¥)
```

### 5.2 ì˜¨ë³´ë”© ìƒíƒœ ê´€ë¦¬

```typescript
interface OnboardingState {
  currentStep: 1 | 2 | 3 | 4;
  step1: {
    completed: boolean;
    notionConnected: boolean;
    accessToken: string | null;     // ë©”ëª¨ë¦¬ only, DBì—ëŠ” ì•”í˜¸í™” ì €ì¥
    workspaceId: string | null;
    workspaceName: string | null;
  };
  step2: {
    completed: boolean;
    selectedDatabaseId: string | null;
    selectedDatabaseName: string | null;
    databases: Array<{ id: string; title: string; pageCount: number }>;
  };
  step3: {
    completed: boolean;
    properties: {
      title: { exists: boolean };
      slug: { exists: boolean; type: string | null };
      status: { exists: boolean; hasPublishedOption: boolean };
    };
  };
  step4: {
    completed: boolean;
    subdomain: string | null;
    customDomain: string | null;
    subdomainAvailable: boolean | null;
    dnsVerified: boolean | null;
  };
}

// ì„œë²„ ì €ì¥: users í…Œì´ë¸”ì— onboarding_step INTEGER ì»¬ëŸ¼ ì¶”ê°€
// ì„¸ë¶€ ë°ì´í„°ëŠ” sites í…Œì´ë¸”ì— ì¦‰ì‹œ ì €ì¥
```

### 5.3 í”„ë¡œê·¸ë ˆìŠ¤ ë°” (`StepProgress`)

```
í‘œì‹œ:  â— â”€â”€â”€ â—‹ â”€â”€â”€ â—‹ â”€â”€â”€ â—‹
       ì—°ë™    DB   ì†ì„±   URL

ìƒíƒœë³„ ìŠ¤íƒ€ì¼:
  â— ì™„ë£Œë¨: ì±„ì›Œì§„ ì›, primary ìƒ‰ìƒ
  â— í˜„ì¬:   ì±„ì›Œì§„ ì›, primary ìƒ‰ìƒ, í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜
  â—‹ ë¯¸ì™„ë£Œ: ë¹ˆ ì›, gray-300
  â”€â”€â”€ ì—°ê²°ì„ : ì™„ë£Œ êµ¬ê°„ primary, ë¯¸ì™„ë£Œ gray-200
ëª¨ë°”ì¼: ë¼ë²¨ text-xs
```

### 5.4 Step 1: ë…¸ì…˜ ì—°ë™ (`StepNotionConnect`)

#### ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Œ ë…¸ì…˜ê³¼ ì—°ê²°í•˜ê¸°                              â”‚
â”‚                                                â”‚
â”‚  Nobleì´ ë…¸ì…˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì½ì–´ì„œ               â”‚
â”‚  ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ ë“œë¦½ë‹ˆë‹¤.                       â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ğŸ”— ë…¸ì…˜ ì—°ë™í•˜ê¸°                â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                â”‚
â”‚  ğŸ”’ Notion ê³µì‹ APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤                â”‚
â”‚  ì½ê¸° ê¶Œí•œë§Œ ìš”ì²­í•©ë‹ˆë‹¤                          â”‚
â”‚                                                â”‚
â”‚  ğŸ’¡ Tip: ë…¸ì…˜ í™”ë©´ì´ ì—´ë¦¬ë©´ "ë¸”ë¡œê·¸ë¡œ ì‚¬ìš©í•       â”‚
â”‚  ë°ì´í„°ë² ì´ìŠ¤"ë§Œ ì„ íƒí•´ ì£¼ì„¸ìš”.                   â”‚
â”‚                                                â”‚
â”‚  â–· ì—°ë™ì´ ì•ˆ ë˜ì‹œë‚˜ìš”?                          â”‚ â† ì ‘í˜/í¼ì¹¨ í† ê¸€
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â† ê¸°ë³¸ ì ‘í˜
â”‚  â”‚ ë…¸ì…˜ DB ì „ì²´ ì£¼ì†Œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”  â”‚            â”‚
â”‚  â”‚ [https://notion.so/...       ] â”‚            â”‚
â”‚  â”‚ [í™•ì¸]                         â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### OAuth í”Œë¡œìš°

```
1. [ë…¸ì…˜ ì—°ë™í•˜ê¸°] í´ë¦­ â†’ window.location.href = Notion OAuth URL
   https://api.notion.com/v1/oauth/authorize
     ?client_id={NOTION_CLIENT_ID}
     &response_type=code
     &owner=user
     &redirect_uri={BASE_URL}/api/auth/callback/notion
     &state={csrf_token_from_cookie}

2. ì‚¬ìš©ì: Notion í™”ë©´ì—ì„œ DB ì„ íƒ + ìŠ¹ì¸

3. Notion â†’ /api/auth/callback/notion?code={code}&state={state}

4. ì„œë²„:
   a. state ì¿ í‚¤ì™€ query state ë¹„êµ (CSRF ê²€ì¦)
   b. POST https://api.notion.com/v1/oauth/token
   c. access_token AES-256-GCM ì•”í˜¸í™” â†’ ì„ì‹œ ì €ì¥
   d. redirect â†’ /onboarding?step=2
```

#### URL í´ë°±

```typescript
function extractNotionDatabaseId(url: string): string | null {
  const cleaned = url.split('?')[0]; // ?v= ì œê±°
  const match = cleaned.match(/([a-f0-9]{32})/);
  return match ? match[1] : null;
}
```

```
API: POST /api/notion/validate-url
Response 200: { valid: true, type: "database", id: "abc123", title: "ë¸”ë¡œê·¸" }
Response 400: { valid: false, error: "PAGE_NOT_DATABASE" }
Response 400: { valid: false, error: "INVALID_URL" }
Response 400: { valid: false, error: "NOT_FOUND" }
```

### 5.5 Step 2: DB ì„ íƒ (`StepDatabaseSelect`)

```
API: GET /api/notion/databases
Response: { databases: [{ id, title, pageCount }] }
```

| ìƒíƒœ | UI |
|------|-----|
| ë¡œë”© | ìŠ¤ì¼ˆë ˆí†¤ UI (3ì¤„ placeholder) |
| DB 0ê°œ | "ì—°ë™ëœ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤" + [í…œí”Œë¦¿ ë³µì œí•˜ê¸°] + [ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê¸°] |
| DB 1ê°œ | ìë™ ì„ íƒ, 2ì´ˆ ë’¤ ìë™ Step 3 ì´ë™ |
| DB 2ê°œ+ | ë¼ë””ì˜¤ ëª©ë¡, ì„ íƒ í›„ [ë‹¤ìŒ] í™œì„±í™” |
| ì¤‘ë³µ ì—°ë™ | "ì´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ë¯¸ ë‹¤ë¥¸ Noble ë¸”ë¡œê·¸ì—ì„œ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤" (ë¹¨ê°„) |

### 5.6 Step 3: ì†ì„± í™•ì¸ (`StepPropertyCheck`)

```
API: POST /api/notion/validate-db
Request: { databaseId: "abc123" }
Response: {
  valid: true/false,
  properties: {
    title:  { exists: true, name: "ì´ë¦„" },
    slug:   { exists: false, similarFound: "URL" },
    status: { exists: true, hasPublishedOption: true }
  }
}
```

ì†ì„± ê²€ì‚¬ ê·œì¹™:
- **Title**: type === "title" (í•­ìƒ ì¡´ì¬)
- **Slug**: name === "Slug" (ì •í™• ì¼ì¹˜), type === "rich_text"
- **Status**: name === "Status" (ì •í™• ì¼ì¹˜), type === "select", "Published" ì˜µì…˜ ì¡´ì¬

ì—†ì„ ë•Œ ì•ˆë‚´:
```
âš ï¸ 'Slug' ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤.

1. ë…¸ì…˜ì—ì„œ "ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸" DBë¥¼ ì—´ì–´ì£¼ì„¸ìš”
2. + ë²„íŠ¼ìœ¼ë¡œ ìƒˆ ì†ì„±ì„ ì¶”ê°€í•˜ì„¸ìš”
3. ì´ë¦„: "Slug", íƒ€ì…: "í…ìŠ¤íŠ¸" ì„ íƒ
ğŸ“– ìì„¸í•œ ë°©ë²• ë³´ê¸° (ì™¸ë¶€ ë§í¬)
```

ëª¨ë“  âœ… â†’ 2ì´ˆ í›„ ìë™ Step 4 ì´ë™ + [ë‹¤ìŒ] ì¦‰ì‹œ í™œì„±í™”

### 5.7 Step 4: ë¸”ë¡œê·¸ URL ì„¤ì • (`StepUrlSetup`)

ì„œë¸Œë„ë©”ì¸:
```
ê·œì¹™: 3~30ì, ì˜ë¬¸ ì†Œë¬¸ì+ìˆ«ì+í•˜ì´í”ˆ, ì‹œì‘/ë í•˜ì´í”ˆ ë¶ˆê°€
ì˜ˆì•½ì–´: admin, api, www, app, dashboard, blog, help, support, status, mail, noble
ê²€ì¦: í´ë¼ì´ì–¸íŠ¸ regex + ì„œë²„ DB unique (debounce 500ms)
```

ì»¤ìŠ¤í…€ ë„ë©”ì¸:
```
ì ‘í˜ í† ê¸€, ì„ íƒì‚¬í•­
DNS ì•ˆë‚´: CNAME â†’ noble-cdn.pages.dev
[DNS í™•ì¸í•˜ê¸°] â†’ POST /api/site/verify-domain â†’ DNS lookup
â³ "DNS ì „íŒŒì— ìµœëŒ€ 48ì‹œê°„ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤"
```

**"ë¸”ë¡œê·¸ ë§Œë“¤ê¸°" í´ë¦­ ì‹œ (ë©±ë“±ì„± ë³´ì¥):**
```
1. í´ë¦­ ì¦‰ì‹œ: ë²„íŠ¼ â†’ "ìƒì„± ì¤‘..." (disabled, ë”ë¸”í´ë¦­ ë°©ì§€)
2. POST /api/site (ì‚¬ì´íŠ¸ ìƒì„± + Cloudflare í”„ë¡œì íŠ¸ + ì²« ë¹Œë“œ íŠ¸ë¦¬ê±°)
   - ì„œë²„: user_idë¡œ ê¸°ì¡´ ì‚¬ì´íŠ¸ ì¡´ì¬ í™•ì¸
   - ì´ë¯¸ ì¡´ì¬ â†’ ê¸°ì¡´ ì‚¬ì´íŠ¸ ë°˜í™˜ (ì¤‘ë³µ ìƒì„± ì•ˆ í•¨)
   - DB UNIQUE ì œì•½ (one_site_per_user)ì´ ìµœì¢… ë°©ì–´
3. users.onboarding_completed = TRUE
4. /dashboard ë¦¬ë‹¤ì´ë ‰íŠ¸
5. ëŒ€ì‹œë³´ë“œì—ì„œ ë¹Œë“œ í´ë§ ì‹œì‘
6. ì™„ë£Œ ì‹œ: "ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ë¸”ë¡œê·¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!" í† ìŠ¤íŠ¸
```

### 5.8 ì˜¨ë³´ë”© ë³µì›

```
ë¸Œë¼ìš°ì € ì´íƒˆ í›„ ì¬ë°©ë¬¸:
  users.onboarding_step í™•ì¸ â†’ í•´ë‹¹ ë‹¨ê³„ë¶€í„° ì¬ì‹œì‘
  ì´ì „ ë‹¨ê³„ ë°ì´í„° ì„œë²„ì— ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ âœ… ìœ ì§€
```

---

## 6. ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ (`DashboardLayout`)

### 6.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [AlertBanner â€” ì¡°ê±´ë¶€]                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sidebar  â”‚            Main Content                  â”‚
â”‚ (240px)  â”‚            (flex-1, p-6 lg:p-8)          â”‚
â”‚          â”‚                                          â”‚
â”‚          â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”       â”‚
â”‚          â”‚                          â”‚ FAB  â”‚       â”‚
â”‚          â”‚                          â””â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ì‚¬ì´ë“œë°” (`Sidebar`)

ë°˜ì‘í˜•:
| ë¸Œë ˆì´í¬í¬ì¸íŠ¸ | ë„ˆë¹„ | ë™ì‘ |
|-------------|------|------|
| 1024px+ | 240px ê³ ì • | ì•„ì´ì½˜ + í…ìŠ¤íŠ¸, í•­ìƒ í‘œì‹œ |
| 768~1023px | 64px ê³ ì • | ì•„ì´ì½˜ë§Œ, í˜¸ë²„ ì‹œ íˆ´íŒ |
| ~767px | 0px (ìˆ¨ê¹€) | ìƒë‹¨ í–„ë²„ê±° â†’ ì˜¤ë²„ë ˆì´ ìŠ¬ë¼ì´ë“œ (280px, bg-black/50) |

ë©”ë‰´ êµ¬ì¡°:
```
[Noble ë¡œê³ ] â†’ /dashboard
â”€â”€â”€
ğŸ“Š ëŒ€ì‹œë³´ë“œ     /dashboard
ğŸ“ í¬ìŠ¤íŠ¸       /posts
âš™ï¸ ì„¤ì •        /settings
â”€â”€â”€
ğŸ”— ë‚´ ë¸”ë¡œê·¸    ì™¸ë¶€ ë§í¬ (ìƒˆíƒ­) â€” ë¹Œë“œ ì „ì´ë©´ disabled
ğŸ“– ë„ì›€ë§       ì™¸ë¶€ ë§í¬ (ìƒˆíƒ­)
â”€â”€â”€
Pro í”Œëœ (ë˜ëŠ” â±ï¸ ì²´í—˜ D-N)
â”€â”€â”€
user@email
[ë¡œê·¸ì•„ì›ƒ]
```

í™œì„± ë©”ë‰´: `pathname === href` (ëŒ€ì‹œë³´ë“œ) ë˜ëŠ” `pathname.startsWith(href)` (ì„¤ì •)

### 6.3 ì•Œë¦¼ ë°°ë„ˆ (`AlertBanner`)

ìš°ì„ ìˆœìœ„ ìˆœ (1ê°œë§Œ í‘œì‹œ):

| P | ì¡°ê±´ | íƒ€ì… | ë©”ì‹œì§€ | CTA |
|---|------|------|-------|-----|
| 1 | `last_build_status === 'failed'` | error | "ë§ˆì§€ë§‰ ë°°í¬ê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" | [ìƒì„¸ ë³´ê¸°] |
| 2 | Notion API 401 ê°ì§€ | warning | "ë…¸ì…˜ ì—°ë™ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤" | [ì¬ì—°ë™í•˜ê¸°] |
| 3 | `paddle_subscription_status === 'past_due'` | warning | "ê²°ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" | [ê²°ì œ ìˆ˜ë‹¨ í™•ì¸] |
| 4 | trial D-3 ì´í•˜ | warning | "ì²´í—˜ ê¸°ê°„ì´ Nì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤" | [ì—…ê·¸ë ˆì´ë“œ] |
| 5 | trial ë§Œë£Œ | error | "ì²´í—˜ ê¸°ê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤" | [ì—…ê·¸ë ˆì´ë“œ] |

ìŠ¤íƒ€ì¼:
```
error:   bg-red-50    border-l-4 border-red-500    text-red-800
warning: bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800
info:    bg-blue-50   border-l-4 border-blue-500   text-blue-800
ë‹«ê¸° ë²„íŠ¼ ì—†ìŒ (ìƒíƒœ í•´ê²° ì‹œ ìë™ ì†Œë©¸)
```

### 6.4 ë°°í¬ FAB (`DeployFAB`)

ìœ„ì¹˜: fixed, bottom-6 right-6, z-40
ë°ìŠ¤í¬í†±: 48px ë†’ì´ + "ğŸš€ ë°°í¬" í…ìŠ¤íŠ¸, rounded-full
ëª¨ë°”ì¼: 56Ã—56px ì›í˜•, ì•„ì´ì½˜ë§Œ

#### 5ê°œ ìƒíƒœ

| ìƒíƒœ | ì•„ì´ì½˜ | í…ìŠ¤íŠ¸ | ë°°ê²½ | í´ë¦­ |
|------|-------|-------|------|------|
| `idle` | Rocket | "ë°°í¬" | blue-600 | ë¹Œë“œ íŠ¸ë¦¬ê±° |
| `building` | Spinner | "ë°°í¬ ì¤‘..." | gray-400 | disabled |
| `success` | Check | "ë°°í¬ ì™„ë£Œ!" | green-600 | ì—†ìŒ (3ì´ˆâ†’idle) |
| `failed` | X | "ë°°í¬ ì‹¤íŒ¨" | red-600 | ì—ëŸ¬ ëª¨ë‹¬ |
| `limited` | Lock | "ì˜¤ëŠ˜ {used}/{limit}" | gray-400 | disabled |

í˜¸ë²„ íˆ´íŒ: "ì˜¤ëŠ˜ ë‚¨ì€ ë°°í¬: {limit-used}/{limit}"

#### í´ë¦­ â†’ ë¹Œë“œ í”Œë¡œìš° (ë©±ë“±ì„± ë³´ì¥)

```
1. í´ë¦­ ì¦‰ì‹œ: FAB â†’ building ìƒíƒœ (disabled, ë”ë¸”í´ë¦­ ë°©ì§€)
2. Idempotency-Key ìƒì„±: UUID v4 â†’ í—¤ë”ì— í¬í•¨
3. POST /api/build/trigger (Idempotency-Key: {uuid})
4. ì‘ë‹µ ë¶„ê¸°:
   - 200 â†’ build_id â†’ í´ë§ ì‹œì‘
   - 429 â†’ limited (íšŸìˆ˜ ì´ˆê³¼)
   - 402 â†’ expired (ì²´í—˜ ë§Œë£Œ)
   - 409 â†’ "ì´ë¯¸ ë¹Œë“œ ì§„í–‰ ì¤‘" í† ìŠ¤íŠ¸ + existing_build_idë¡œ í´ë§ ì‹œì‘
   â€» ë™ì¼ Idempotency-Keyë¡œ ì¬ìš”ì²­ ì‹œ â†’ ì´ì „ ì‘ë‹µ ë°˜í™˜ (ìƒˆ ë¹Œë“œ ìƒì„± ì•ˆ í•¨)
```

#### í´ë§ ì „ëµ

```typescript
0~30ì´ˆ:   2ì´ˆ ê°„ê²©
30~120ì´ˆ: 5ì´ˆ ê°„ê²©
120~300ì´ˆ: 10ì´ˆ ê°„ê²©
300ì´ˆ+:   í´ë§ ì¤‘ë‹¨, "ë¹Œë“œì— ì‹œê°„ì´ ê±¸ë¦¬ê³  ìˆìŠµë‹ˆë‹¤" í‘œì‹œ
```

---

## 7. í™”ë©´ 3: ë©”ì¸ ëŒ€ì‹œë³´ë“œ (`/dashboard`)

### 7.1 ë°ì´í„°

```
SWR: GET /api/site, GET /api/posts
ìë™ ì¬ê²€ì¦: í¬ì»¤ìŠ¤ ì‹œ, 30ì´ˆë§ˆë‹¤
```

### 7.2 ë ˆì´ì•„ì›ƒ (4ê°œ ì¹´ë“œ)

```
[BlogSummaryCard]     â† ë°œí–‰ë¨ / ì´ˆì•ˆ / ë§ˆì§€ë§‰ ë°°í¬ / ìƒíƒœ
[SeoStatusCard]       â† sitemap, RSS ë³µì‚¬ + ì„œì¹˜ì½˜ì†” ê°€ì´ë“œ
[PlanCard]            â† ì²´í—˜ ë‚¨ì€ ì¼ / ìœ ë£Œ í”Œëœ / ë§Œë£Œ ìƒíƒœ
[í†µê³„ placeholder]    â† "í˜ì´ì§€ë·° í†µê³„ê°€ ê³§ ì¶”ê°€ë©ë‹ˆë‹¤" (Phase 1)
```

### 7.3 BlogSummaryCard

4ê°œ ì§€í‘œ ê°€ë¡œ ë°°ì—´ (ëª¨ë°”ì¼: 2Ã—2 ê·¸ë¦¬ë“œ):

| ì§€í‘œ | ì†ŒìŠ¤ | í‘œì‹œ |
|------|------|------|
| ë°œí–‰ëœ ê¸€ | posts count (Published) | "12ê°œ" |
| ì´ˆì•ˆ | posts count (Draft) | "3ê°œ" |
| ë§ˆì§€ë§‰ ë°°í¬ | site.last_build_at | ìƒëŒ€ ì‹œê°„ |
| ë¸”ë¡œê·¸ ìƒíƒœ | site.last_build_status | ğŸŸ¢ì •ìƒ / ğŸŸ¡ë¹Œë“œì¤‘ / ğŸ”´ì‹¤íŒ¨ / âšªë¹Œë“œì „ |

ë¹Œë“œ ì „ ìƒíƒœ (ì˜¨ë³´ë”© ì§í›„):
```
ğŸŸ¡ ì²« ë²ˆì§¸ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤...
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 65%
ë…¸ì…˜ì—ì„œ ê¸€ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘... (15/32)
```

### 7.4 SeoStatusCard

| ìš”ì†Œ | ë™ì‘ |
|------|------|
| Sitemap URL | `https://{domain}/sitemap.xml` + [ğŸ“‹ ë³µì‚¬] â†’ í´ë¦½ë³´ë“œ + í† ìŠ¤íŠ¸ |
| RSS URL | `https://{domain}/rss.xml` + [ğŸ“‹ ë³µì‚¬] â†’ ë™ì¼ |
| ì„œì¹˜ì½˜ì†” ê°€ì´ë“œ | Google + Naver ì™¸ë¶€ ë§í¬ |
| ë¹Œë“œ ì „ | "ì²« ë°°í¬ í›„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤" |

### 7.5 PlanCard (5ê°œ ë³€í˜•)

| ìƒíƒœ | í‘œì‹œ |
|------|------|
| **ì²´í—˜ ì¤‘** | "â±ï¸ 14ì¼ ë¬´ë£Œ ì²´í—˜ ì¤‘" + ë‚¨ì€ Nì¼ + í”„ë¡œê·¸ë ˆìŠ¤ ë°” + [ì—…ê·¸ë ˆì´ë“œ] |
| **ì²´í—˜ D-3** | ì£¼í™© ë°°ê²½, "ì²´í—˜ ê¸°ê°„ì´ Nì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤" + [ì§€ê¸ˆ ì—…ê·¸ë ˆì´ë“œ] |
| **ì²´í—˜ ë§Œë£Œ** | ë¹¨ê°„ ë°°ê²½, Pro/Business 2ì»¬ëŸ¼ í”Œëœ ì¹´ë“œ + [ì‹œì‘í•˜ê¸°] |
| **ìœ ë£Œ ì •ìƒ** | "ğŸŸ¢ Pro í”Œëœ Â· $9/ì›” Â· ë‹¤ìŒ ê²°ì œì¼: YYYY.MM.DD" + [ì—…ê·¸ë ˆì´ë“œ] |
| **ê²°ì œ ì‹¤íŒ¨** | ì£¼í™© ë°°ê²½, "ë§ˆì§€ë§‰ ê²°ì œê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" + [ê²°ì œ ìˆ˜ë‹¨ ì—…ë°ì´íŠ¸] |

### 7.6 ë¹Œë“œ ì—ëŸ¬ ëª¨ë‹¬

FAB `failed` í´ë¦­ ë˜ëŠ” ì•Œë¦¼ ë°°ë„ˆ "ìƒì„¸ ë³´ê¸°" í´ë¦­ ì‹œ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ ë°°í¬ ì‹¤íŒ¨                        â”‚
â”‚  ì—ëŸ¬: {error_message}               â”‚
â”‚  ë°œìƒ ë‹¨ê³„: {error_step}             â”‚
â”‚  ì‹œê°„: {completed_at}                â”‚
â”‚                                      â”‚
â”‚  í•´ê²° ë°©ë²•:                           â”‚
â”‚  {ì—ëŸ¬ë³„ ì•ˆë‚´ â€” ì•„ë˜ ì°¸ê³ }            â”‚
â”‚                                      â”‚
â”‚  [ë‹¤ì‹œ ë°°í¬í•˜ê¸°]    [ë‹«ê¸°]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| error_step | ì•ˆë‚´ |
|-----------|------|
| `notion_auth` | "ë…¸ì…˜ ì¬ì—°ë™ì´ í•„ìš”í•©ë‹ˆë‹¤" + [ì¬ì—°ë™] |
| `notion_fetch` | "ë…¸ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”" |
| `image_processing` | "ì¼ë¶€ ì´ë¯¸ì§€ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë°°í¬í•˜ë©´ í•´ê²°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤" |
| `html_generation` | "HTML ìƒì„± ì¤‘ ì˜¤ë¥˜. ë…¸ì…˜ ê¸€ ë‚´ìš©ì„ í™•ì¸í•´ì£¼ì„¸ìš”" |
| `cloudflare_deploy` | "Cloudflare ë°°í¬ ì‹¤íŒ¨. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”" |
| `timeout` | "ë¹Œë“œ ì‹œê°„ ì´ˆê³¼. ê¸€ì´ ë„ˆë¬´ ë§ìœ¼ë©´ ì¼ë¶€ë¥¼ Draftë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”" |

---

## 8. í™”ë©´ 4: í¬ìŠ¤íŠ¸ ê´€ë¦¬ (`/posts`)

### 8.1 ë°ì´í„°

```
API: GET /api/posts?status=all|published|draft
ë°ì´í„°: ë§ˆì§€ë§‰ ë¹Œë“œ ì‹œ ìºì‹œëœ posts í…Œì´ë¸” (ì‹¤ì‹œê°„ ì•„ë‹˜)
Response: { posts: [...], counts: { all, published, draft } }
```

### 8.2 ë ˆì´ì•„ì›ƒ

```
ğŸ“ í¬ìŠ¤íŠ¸ ê´€ë¦¬

[ì „ì²´ 15] [ë°œí–‰ë¨ 12] [ì´ˆì•ˆ 3]              â† FilterTabs

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“„ Next.js ì‹œì‘í•˜ê¸°                       â”‚ â† í´ë¦­ â†’ Notion ìƒˆíƒ­
â”‚    nextjs-getting-started                â”‚
â”‚    Published Â· 2ì‹œê°„ ì „ Â· 5ë¶„ ì½ê¸°       â”‚
â”‚    SEO: âœ… meta  âœ… slug  âœ… image        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ React ìƒíƒœê´€ë¦¬                         â”‚
â”‚    react-state-management                â”‚
â”‚    Published Â· 1ì¼ ì „ Â· 12ë¶„ ì½ê¸°        â”‚
â”‚    SEO: âœ… meta  âœ… slug  âš ï¸ imageì—†ìŒ   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ GraphQL ì…ë¬¸                           â”‚
â”‚    (slug ì—†ìŒ)                           â”‚ â† ì£¼í™© ì´íƒ¤ë¦­
â”‚    Draft Â· 3ì¼ ì „                        â”‚
â”‚    SEO: âš ï¸ meta  âŒ slugì—†ìŒ  âš ï¸ image  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ ê¸€ í¸ì§‘ì€ ë…¸ì…˜ì—ì„œ ì§ì ‘ í•˜ì„¸ìš”.
   í¸ì§‘ í›„ ë°°í¬ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë°˜ì˜ë©ë‹ˆë‹¤.
```

### 8.3 FilterTabs

```
í™œì„±: bg-primary text-white font-semibold rounded-full px-4 py-1
ë¹„í™œì„±: bg-gray-100 text-gray-600 rounded-full px-4 py-1
```

### 8.4 PostRow

| ìš”ì†Œ | ìŠ¤íƒ€ì¼ | ë™ì‘ |
|------|-------|------|
| ì œëª© | text-base font-medium text-gray-900 | ì „ì²´ í–‰ í´ë¦­ â†’ Notion ìƒˆíƒ­ |
| Slug | text-sm text-gray-400 | ì—†ìœ¼ë©´ "(slug ì—†ìŒ)" ì£¼í™© ì´íƒ¤ë¦­ |
| Status | Badge | Published: green / Draft: gray |
| ìˆ˜ì •ì¼ | text-sm text-gray-400 | ìƒëŒ€ ì‹œê°„ |
| ì½ê¸° ì‹œê°„ | text-sm text-gray-400 | "Në¶„ ì½ê¸°" (Publishedë§Œ) |
| SEO | SeoIndicator | âœ…/âš ï¸/âŒ |
| í˜¸ë²„ | bg-gray-50 cursor-pointer | â†— ì•„ì´ì½˜ |

### 8.5 SeoIndicator

```
âœ… CheckCircle (green-500): meta_description 10ì+, slug ì¡´ì¬, ì»¤ë²„ì´ë¯¸ì§€ ì¡´ì¬
âš ï¸ AlertTriangle (yellow-500): ê¶Œì¥ ë¯¸ì¶©ì¡± (ì´ë¯¸ì§€ ì—†ìŒ ë“±)
âŒ XCircle (red-500): í•„ìˆ˜ ë¯¸ì¶©ì¡± (slug ì—†ìŒ)
```

### 8.6 ë¹ˆ ìƒíƒœ & í˜ì´ì§€ë„¤ì´ì…˜

```
í¬ìŠ¤íŠ¸ 0ê°œ:
  ğŸ“ ì•„ì´ì½˜ + "ì•„ì§ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤"
  + "ë…¸ì…˜ì—ì„œ ê¸€ì„ ì‘ì„±í•œ í›„ Statusë¥¼ Publishedë¡œ ë³€ê²½í•˜ê³  ë°°í¬í•˜ì„¸ìš”"
  + [ë…¸ì…˜ì—ì„œ ê¸€ ì“°ëŸ¬ ê°€ê¸° â†’]

50ê°œ ì´ˆê³¼: [ë” ë³´ê¸°] ë²„íŠ¼ (ë¬´í•œ ìŠ¤í¬ë¡¤ ì•„ë‹˜)
ì •ë ¬: ìˆ˜ì •ì¼ ìµœì‹ ìˆœ ê³ ì •
```

---

## 9. í™”ë©´ 5: ì„¤ì • (`/settings`)

### 9.1 íƒ­ êµ¬ì¡°

```
URL: /settings?tab=general|seo|theme|billing (ê¸°ë³¸: general)

íƒ­: [ì¼ë°˜] [SEO] [í…Œë§ˆ (Coming Soon)] [ê²°ì œ]
```

### 9.2 ì¼ë°˜ íƒ­ (`GeneralTab`)

| í•„ë“œ | íƒ€ì… | ê·œì¹™ | DB ì»¬ëŸ¼ |
|------|------|------|---------|
| ë¸”ë¡œê·¸ ì´ë¦„ | Input | 1~50ì, í•„ìˆ˜ | sites.name |
| ë¸”ë¡œê·¸ ì„¤ëª… | Textarea (3í–‰) | 0~300ì | sites.description |
| ì„œë¸Œë„ë©”ì¸ | ì½ê¸° ì „ìš© + [ë³€ê²½] | ë³€ê²½ ì‹œ ëª¨ë‹¬ (ì¤‘ë³µ ì²´í¬) | sites.subdomain |
| ì»¤ìŠ¤í…€ ë„ë©”ì¸ | Input | ì†Œë¬¸ì ìë™, DNS ê²€ì¦ | sites.custom_domain |
| ë…¸ì…˜ ì—°ë™ | ì½ê¸° ì „ìš© | ì›Œí¬ìŠ¤í˜ì´ìŠ¤+DB ì´ë¦„ | - |

ì»¤ìŠ¤í…€ ë„ë©”ì¸ DNS ì•ˆë‚´:
```
Type: CNAME | Name: blog | Target: noble-cdn.pages.dev
[DNS í™•ì¸í•˜ê¸°]
ìƒíƒœ: âœ… í™•ì¸ë¨Â·SSL í™œì„± | â³ SSL ë°œê¸‰ ì¤‘ | âŒ CNAME ë¯¸ë°œê²¬
```

ë…¸ì…˜ ì—°ë™:
```
âœ… ì—°ë™ë¨ Â· "My Workspace" Â· "ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸"
[ì—°ë™ í•´ì œ] â†’ í™•ì¸ ëª¨ë‹¬: "ë°°í¬ë¥¼ í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤"
[ë‹¤ë¥¸ DB ì„ íƒ] â†’ í™•ì¸ ëª¨ë‹¬ â†’ DB ì„ íƒ â†’ ì†ì„± ê²€ì¦ â†’ ìë™ ë¹Œë“œ
```

ì €ì¥: PATCH /api/site â†’ ì„±ê³µ í† ìŠ¤íŠ¸ / ì—ëŸ¬ ì¸ë¼ì¸

### 9.3 SEO íƒ­ (`SeoTab`)

| í•„ë“œ | ë™ì‘ |
|------|------|
| Sitemap URL | ì½ê¸° ì „ìš© + [ğŸ“‹ ë³µì‚¬] (ë¹Œë“œ ì „: "ì²« ë°°í¬ í›„ í‘œì‹œ") |
| RSS URL | ì½ê¸° ì „ìš© + [ğŸ“‹ ë³µì‚¬] |
| ì„œì¹˜ì½˜ì†” ê°€ì´ë“œ | Google + Naver ì™¸ë¶€ ë§í¬ |
| OG ì´ë¯¸ì§€ | ë¼ë””ì˜¤: ë…¸ì…˜ ì»¤ë²„(ê¸°ë³¸) / ì»¤ìŠ¤í…€ ì—…ë¡œë“œ (1200Ã—630px, 5MB) |
| ê¸°ë³¸ Meta Description | Textarea 0~160ì (ë‚¨ì€ ê¸€ì ìˆ˜ í‘œì‹œ) |
| robots.txt | ì²´í¬ë°•ìŠ¤: í¬ë¡¤ë§ í—ˆìš©(ê¸°ë³¸) / ì°¨ë‹¨ |

### 9.4 í…Œë§ˆ íƒ­ (`ThemeTab`) â€” Phase 1

```
Phase 0: ë¯¸ë‹ˆë©€/ë§¤ê±°ì§„/ë‹¤í¬ í”„ë¦¬ë·° ì´ë¯¸ì§€ 3ê°œ (íë¦¬ê²Œ, í´ë¦­ ë¶ˆê°€)
"í…Œë§ˆ ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë©ë‹ˆë‹¤. í˜„ì¬ëŠ” ê¸°ë³¸ ë¯¸ë‹ˆë©€ í…Œë§ˆì…ë‹ˆë‹¤."
```

### 9.5 ê²°ì œ íƒ­ (`BillingTab`)

#### ì²´í—˜ ì¤‘

```
â±ï¸ 14ì¼ ë¬´ë£Œ ì²´í—˜ ì¤‘
ë‚¨ì€ ê¸°ê°„: 11ì¼ | í”„ë¡œê·¸ë ˆìŠ¤ ë°”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pro     $9/ì›”    â”‚ â”‚ Business $19/ì›”  â”‚
â”‚ âœ“ ì»¤ìŠ¤í…€ ë„ë©”ì¸   â”‚ â”‚ âœ“ Pro ì „ì²´ í¬í•¨  â”‚
â”‚ âœ“ ë¬´ì œí•œ í¬ìŠ¤íŠ¸   â”‚ â”‚ âœ“ ë©¤ë²„ì‹­/ìœ ë£Œêµ¬ë…â”‚
â”‚ âœ“ SEO ì „ìë™     â”‚ â”‚ âœ“ ì• ë“œì„¼ìŠ¤ ìë™  â”‚
â”‚ âœ“ ì¼ 10íšŒ ë°°í¬   â”‚ â”‚ âœ“ ë¬´ì œí•œ ë°°í¬    â”‚
â”‚ [Pro ì‹œì‘í•˜ê¸°]   â”‚ â”‚ [Business ì‹œì‘]  â”‚
â”‚ ì—°ê°„ $86(20%â†“)  â”‚ â”‚ ì—°ê°„ $182(20%â†“) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ìœ ë£Œ

```
ğŸŸ¢ Pro í”Œëœ Â· ì›”ê°„ | $9/ì›” + í˜„ì§€ ì„¸ê¸ˆ | ë‹¤ìŒ ê²°ì œì¼
[Business ì—…ê·¸ë ˆì´ë“œ] [ì—°ê°„ ì „í™˜ 20% í• ì¸]
â”€â”€
ê²°ì œ ê´€ë¦¬: [ğŸ”— Paddle ê²°ì œ ê´€ë¦¬ ì—´ê¸°] (ì™¸ë¶€ ë§í¬)
â”€â”€
[êµ¬ë… ì·¨ì†Œí•˜ê¸°] (ë¹¨ê°„ í…ìŠ¤íŠ¸)
â”€â”€
[í™˜ë¶ˆ ìš”ì²­í•˜ê¸°]
```

#### Paddle Checkout ì—°ë™

```typescript
// ê²°ì œ ë²„íŠ¼ í´ë¦­ ì‹œ
Paddle.Checkout.open({
  settings: { displayMode: 'overlay', theme: 'light', locale: 'ko' },
  items: [{ priceId, quantity: 1 }],
  customer: { email: user.email },
  customData: { userId: user.id },
});

// ì™„ë£Œ ì´ë²¤íŠ¸
Paddle.Setup({
  token: PADDLE_CLIENT_TOKEN,
  eventCallback: (event) => {
    if (event.name === 'checkout.completed') {
      showToast('ê²°ì œ ì™„ë£Œ! ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...');
      setTimeout(() => window.location.reload(), 3000);
    }
  },
});
```

#### êµ¬ë… ì·¨ì†Œ ëª¨ë‹¬ (ë©±ë“±ì„± ë³´ì¥)

```
"êµ¬ë…ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
â€¢ í˜„ì¬ ê²°ì œ ê¸°ê°„(YYYY.MM.DD)ê¹Œì§€ ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥
â€¢ ì´í›„ ë¸”ë¡œê·¸ ë¹„í™œì„±
â€¢ ë°ì´í„° 30ì¼ ë³´ê´€
[ì·¨ì†Œí•˜ê¸° (ë¹¨ê°„)]  [ëŒì•„ê°€ê¸° (íšŒìƒ‰)]

ë©±ë“±ì„±:
  1. [ì·¨ì†Œí•˜ê¸°] í´ë¦­ ì¦‰ì‹œ ë²„íŠ¼ disabled + ìŠ¤í”¼ë„ˆ
  2. POST /api/paddle/cancel
  3. ì„œë²„: paddle_subscription_status ì‚¬ì „ ì²´í¬
     â†’ ì´ë¯¸ 'canceled' â†’ "ì´ë¯¸ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤" ë°˜í™˜ (Paddle ì¬í˜¸ì¶œ ì•ˆ í•¨)
     â†’ 'active' â†’ Paddle cancel API í˜¸ì¶œ â†’ í† ìŠ¤íŠ¸
```

#### í™˜ë¶ˆ ìš”ì²­ ëª¨ë‹¬ (ë©±ë“±ì„± ë³´ì¥)

```
14ì¼ ì´ë‚´: "ì „ì•¡ í™˜ë¶ˆ, êµ¬ë… ì¦‰ì‹œ í•´ì§€"
14ì¼ ì´ˆê³¼: "ê²€í†  í›„ ì´ë©”ì¼ ì•ˆë‚´"

ë©±ë“±ì„±:
  1. [í™˜ë¶ˆ ìš”ì²­] í´ë¦­ ì¦‰ì‹œ ë²„íŠ¼ disabled + ìŠ¤í”¼ë„ˆ
  2. Idempotency-Key (UUID v4) ìƒì„± â†’ í—¤ë” í¬í•¨
  3. POST /api/paddle/refund (Idempotency-Key: {uuid})
  4. ì„œë²„: ë™ì¼ í‚¤ ì¡´ì¬ ì‹œ ìºì‹œëœ ì‘ë‹µ ë°˜í™˜ (ì´ì¤‘ í™˜ë¶ˆ ë°©ì§€)
```

---

## 10. í† ìŠ¤íŠ¸ ì•Œë¦¼ ì‹œìŠ¤í…œ

### 10.1 ìŠ¤í™

```
ìœ„ì¹˜: ìš°ìƒë‹¨ (top-6 right-6)
ìµœëŒ€ ë™ì‹œ 3ê°œ (ì´ˆê³¼ ì‹œ ê°€ì¥ ì˜¤ë˜ëœ ê²ƒ ì œê±°)
z-index: 50 (FAB ìœ„)
ì• ë‹ˆë©”ì´ì…˜: ì˜¤ë¥¸ìª½ ìŠ¬ë¼ì´ë“œ ì¸ (200ms)
í¬ê¸°: 360px (ë°ìŠ¤í¬í†±), í’€-32px (ëª¨ë°”ì¼)
ë‹«ê¸°: X ë²„íŠ¼ í•­ìƒ í‘œì‹œ
```

### 10.2 ì´ë²¤íŠ¸ ëª©ë¡

| ì´ë²¤íŠ¸ | íƒ€ì… | ë©”ì‹œì§€ | ì§€ì† |
|--------|------|-------|------|
| ë°°í¬ ì‹œì‘ | info | "ë°°í¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤..." | 3ì´ˆ |
| ë°°í¬ ì™„ë£Œ | success | "ë°°í¬ ì™„ë£Œ! ë¸”ë¡œê·¸ ì—…ë°ì´íŠ¸ë¨" + [ë¸”ë¡œê·¸ ë³´ê¸°] | 5ì´ˆ |
| ë°°í¬ ì‹¤íŒ¨ | error | "ë°°í¬ ì‹¤íŒ¨. {ì›ì¸}" + [ìƒì„¸ ë³´ê¸°] | ìˆ˜ë™ ë‹«ê¸° |
| íšŸìˆ˜ ì´ˆê³¼ | warning | "ì˜¤ëŠ˜ ë°°í¬ íšŸìˆ˜ë¥¼ ëª¨ë‘ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤" | 5ì´ˆ |
| ì²´í—˜ ë§Œë£Œ | warning | "ì²´í—˜ ê¸°ê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤" + [ì—…ê·¸ë ˆì´ë“œ] | ìˆ˜ë™ ë‹«ê¸° |
| ì„¤ì • ì €ì¥ | success | "ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤" | 3ì´ˆ |
| í´ë¦½ë³´ë“œ | info | "ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤" | 2ì´ˆ |
| ë…¸ì…˜ ì—°ë™ | success | "ë…¸ì…˜ì´ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤!" | 3ì´ˆ |
| ê²°ì œ ì™„ë£Œ | success | "ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!" | 5ì´ˆ |
| ë¸”ë¡œê·¸ ìƒì„± | success | "ğŸ‰ ë¸”ë¡œê·¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!" | 5ì´ˆ |

ìŠ¤íƒ€ì¼:
```
success: bg-green-50 border-l-4 border-green-500 text-green-800
error:   bg-red-50   border-l-4 border-red-500   text-red-800
warning: bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800
info:    bg-blue-50  border-l-4 border-blue-500  text-blue-800
```

---

## 11. ë¡œë”© & ì—ëŸ¬ ìƒíƒœ

### 11.1 ë¡œë”©

| ë ˆë²¨ | UI |
|------|-----|
| í˜ì´ì§€ | ì „ì²´ ìŠ¤ì¼ˆë ˆí†¤ (pulse 1.5s ì£¼ê¸°) |
| BlogSummaryCard | 4ê°œ ì§€í‘œ ìë¦¬ íšŒìƒ‰ ë¸”ë¡ |
| PostTable | 3ì¤„ í–‰ ìŠ¤ì¼ˆë ˆí†¤ |
| ê¸°íƒ€ ì¹´ë“œ | ì¹´ë“œ ë†’ì´ íšŒìƒ‰ ë¸”ë¡ |
| ì˜¨ë³´ë”© DB ëª©ë¡ | 3ì¤„ ë¦¬ìŠ¤íŠ¸ ìŠ¤ì¼ˆë ˆí†¤ |

### 11.2 ì—ëŸ¬

ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬:
```
âš ï¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤
ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”
[ë‹¤ì‹œ ì‹œë„]
```

ì¸ì¦ ë§Œë£Œ (API 401):
```
ëª¨ë‹¬: "ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”"
[ë¡œê·¸ì¸] â†’ /login ë¦¬ë‹¤ì´ë ‰íŠ¸
```

ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬:
```typescript
// 401 â†’ ë¡œê·¸ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸
// 402 â†’ "ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤" í† ìŠ¤íŠ¸
// 429 â†’ "ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”" í† ìŠ¤íŠ¸
// ê¸°íƒ€ â†’ "ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" í† ìŠ¤íŠ¸
```

---

## 12. ë°˜ì‘í˜• ë””ìì¸

| ì´ë¦„ | ë„ˆë¹„ | ì‚¬ì´ë“œë°” | FAB | íŠ¹ì´ì‚¬í•­ |
|------|------|---------|-----|---------|
| ëª¨ë°”ì¼ | ~767px | ìˆ¨ê¹€ (í–„ë²„ê±°) | ì›í˜• 56px | ì¹´ë“œ ì„¸ë¡œ ìŠ¤íƒ, í¬ìŠ¤íŠ¸ ì œëª©ë§Œ |
| íƒœë¸”ë¦¿ | 768~1023px | 64px (ì•„ì´ì½˜) | ì›í˜• 56px | - |
| ë°ìŠ¤í¬í†± | 1024px+ | 240px (í’€) | í…ìŠ¤íŠ¸ 48px | - |

í„°ì¹˜ ìµœì í™”: ëª¨ë“  ì¸í„°ë™í‹°ë¸Œ ìš”ì†Œ ìµœì†Œ 44Ã—44px

---

## 13. ì ‘ê·¼ì„± (A11y)

| í•­ëª© | êµ¬í˜„ |
|------|------|
| í‚¤ë³´ë“œ | ëª¨ë“  ìš”ì†Œ Tab ì ‘ê·¼, Enter/Space í™œì„±í™” |
| í¬ì»¤ìŠ¤ | focus-visible:ring-2 ring-blue-500 ring-offset-2 |
| ARIA | ì•„ì´ì½˜ ë²„íŠ¼ aria-label, ëª¨ë‹¬ role="dialog" |
| ìƒ‰ìƒ ëŒ€ë¹„ | WCAG AA (4.5:1 í…ìŠ¤íŠ¸, 3:1 UI) |
| ìŠ¤í¬ë¦° ë¦¬ë” | ìƒíƒœ ë³€ê²½ aria-live="polite" |
| ëª¨ë‹¬ | í¬ì»¤ìŠ¤ íŠ¸ë©, ESC ë‹«ê¸° |

---

## 14. ì„±ëŠ¥ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| FCP | < 1.5ì´ˆ |
| LCP | < 2.5ì´ˆ |
| CLS | < 0.1 |
| JS ë²ˆë“¤ (gzipped) | < 150KB |
| TTI | < 3ì´ˆ |

ìµœì í™”:
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… (í˜ì´ì§€ë³„ dynamic import, Paddle.js ê²°ì œ íƒ­ì—ì„œë§Œ)
- SWR ìºì‹œ (staleWhileRevalidate)
- next/font ë¡œì»¬ í˜¸ìŠ¤íŒ… (Inter, latin + korean subset)
- ì´ë¯¸ì§€: next/image, ë¡œê³  SVG ì¸ë¼ì¸

---

## 15. Phase 0 ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
í”„ë¡œì íŠ¸ ì…‹ì—…:
  [ ] Next.js 14 + App Router + TypeScript
  [ ] Tailwind CSS
  [ ] Supabase í”„ë¡œì íŠ¸ + DB ìŠ¤í‚¤ë§ˆ
  [ ] í™˜ê²½ë³€ìˆ˜ (.env.local)
  [ ] Vercel ë°°í¬

ì¸ì¦:
  [ ] /login (Magic Link + Google)
  [ ] /signup (íšŒì›ê°€ì… + trial)
  [ ] middleware.ts (ë¼ìš°íŒ… ê°€ë“œ)
  [ ] useUser í›…

ì˜¨ë³´ë”©:
  [ ] StepProgress
  [ ] Step 1: Notion OAuth + URL í´ë°±
  [ ] Step 2: DB ëª©ë¡ + ì„ íƒ + ì¤‘ë³µ ì²´í¬
  [ ] Step 3: ì†ì„± ê²€ì¦ + ì—ëŸ¬ ì•ˆë‚´
  [ ] Step 4: ì„œë¸Œë„ë©”ì¸ + DNS + ì‚¬ì´íŠ¸ ìƒì„±

ë ˆì´ì•„ì›ƒ:
  [ ] DashboardLayout
  [ ] Sidebar (ë°˜ì‘í˜• 3ë‹¨ê³„)
  [ ] AlertBanner (5ê°œ ìš°ì„ ìˆœìœ„)
  [ ] DeployFAB (5ê°œ ìƒíƒœ)
  [ ] MobileNav (í–„ë²„ê±° + ì˜¤ë²„ë ˆì´)
  [ ] Toast ì‹œìŠ¤í…œ

ëŒ€ì‹œë³´ë“œ:
  [ ] BlogSummaryCard (4ê°œ ì§€í‘œ)
  [ ] SeoStatusCard (sitemap/RSS ë³µì‚¬)
  [ ] PlanCard (5ê°œ ë³€í˜•)
  [ ] ë¹Œë“œ ì—ëŸ¬ ëª¨ë‹¬

í¬ìŠ¤íŠ¸:
  [ ] FilterTabs
  [ ] PostTable + PostRow
  [ ] SeoIndicator
  [ ] ë¹ˆ ìƒíƒœ + í˜ì´ì§€ë„¤ì´ì…˜

ì„¤ì •:
  [ ] SettingsTabs (URL query)
  [ ] GeneralTab (ì´ë¦„, ë„ë©”ì¸, ë…¸ì…˜)
  [ ] SeoTab (sitemap, OG, meta, robots)
  [ ] ThemeTab (Coming Soon)
  [ ] BillingTab (ì²´í—˜/ìœ ë£Œ/ì·¨ì†Œ/í™˜ë¶ˆ)
  [ ] Paddle.js checkout overlay
  [ ] ì·¨ì†Œ/í™˜ë¶ˆ ëª¨ë‹¬

ê³µí†µ:
  [ ] SWR í›… (useSite, usePosts, useBuild)
  [ ] ë¹Œë“œ í´ë§ í›…
  [ ] ì—ëŸ¬ í•¸ë“¤ë§ (ì „ì—­ + ì»´í¬ë„ŒíŠ¸)
  [ ] ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
  [ ] ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸
```

---

*Noble Dashboard PRD v2.0 â€” 2025-02-13*
*í™”ë©´ 5ê°œ, í´ë¦­ ìµœì†Œ, ë°°í¬ëŠ” ì–¸ì œë‚˜ 1í´ë¦­*
